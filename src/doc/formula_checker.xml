<?xml version="1.0"?>

<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN" "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd"[
<!ENTITY class_bdd_prover "<classname>BDD_Prover</classname>">
<!ENTITY class_formula_checker "<classname>Formula_Checker</classname>">
<!ENTITY class_bdd2dot "<classname>BDD2Dot</classname>">

<!ENTITY type_virtual "<type>virtual</type>">
<!ENTITY type_void "<type>void</type>">
<!ENTITY type_bool "<type>bool</type>">
<!ENTITY type_int "<type>int</type>">
<!ENTITY type_aterm "<type>ATerm</type>">
<!ENTITY type_aterm_appl "<type>ATermAppl</type>">
<!ENTITY type_aterm_list "<type>ATermList</type>">
<!ENTITY type_smt_solver_type "<type>SMT_Solver_Type</type>">
<!ENTITY type_rewrite_strategy "<type>RewriteStrategy</type>">
<!ENTITY type_char_string "<type>char*</type>">

<!ENTITY sort_bool "<type>Bool</type>">

<!ENTITY formula_checker_constructor "<function>Formula_Checker::Formula_Checker</function>">
<!ENTITY formula_checker_check_formulas "<function>Formula_Checker::check_formulas</function>">

<!ENTITY par_rewrite_strategy "<parameter>a_rewrite_strategy</parameter>">
<!ENTITY par_time_limit "<parameter>a_time_limit</parameter>">
<!ENTITY par_path_eliminator "<parameter>a_path_eliminator</parameter>">
<!ENTITY par_solver_type "<parameter>a_solver_type</parameter>">
<!ENTITY par_apply_induction "<parameter>a_apply_induction</parameter>">
<!ENTITY par_lpe "<parameter>a_lpe</parameter>">
<!ENTITY par_counter_example "<parameter>a_counter_example</parameter>">
<!ENTITY par_witness "<parameter>a_witness</parameter>">
<!ENTITY par_formulas "<parameter>a_formulas</parameter>">
<!ENTITY par_dot_file_name "<parameter>a_dot_file_name</parameter>">

<!ENTITY strat_jitty "<constant>GS_REWR_JITTY</constant>">

<!ENTITY stderr "<constant>stderr</constant>">

<!ENTITY solver_ario "<constant>ario</constant>">
<!ENTITY solver_cvc_lite "<constant>cvc-lite</constant>">
<!ENTITY link_ario "<uri>http://www.eecs.umich.edu/~ario/</uri>">
<!ENTITY link_cvc "<uri>http://www.cs.nyu.edu/acsys/cvcl/</uri>">

<!ENTITY const_strat_jitty "<constant>GS_REWR_JITTY</constant>">
<!ENTITY const_strat_jittyc "<constant>GS_REWR_JITTYC</constant>">
<!ENTITY const_strat_inner "<constant>GS_REWR_INNER</constant>">
<!ENTITY const_strat_innerc "<constant>GS_REWR_INNERC</constant>">
<!ENTITY const_solver_type_ario "<constant>solver_type_ario</constant>">
<!ENTITY const_true "<constant>true</constant>">
<!ENTITY const_false "<constant>false</constant>">
]>

<refentry id="formula_checker">

<refmeta>
<refentrytitle>formula_checker</refentrytitle>
<manvolnum>7</manvolnum>
</refmeta>

<refnamediv>
<refname>formula_checker</refname>
<refpurpose>a class that checks expressions of sort Bool</refpurpose>
</refnamediv>

<refsynopsisdiv>
<funcsynopsis>
<funcprototype>
  <funcdef>&formula_checker_constructor;</funcdef>
  <paramdef>&type_aterm_appl; &par_lpe;</paramdef>
  <paramdef>&type_rewrite_strategy; &par_rewrite_strategy; = &strat_jitty;</paramdef>
  <paramdef>&type_int; &par_time_limit; = 0</paramdef>
  <paramdef>&type_bool; &par_path_eliminator; = &const_false;</paramdef>
  <paramdef>&type_smt_solver_type; &par_solver_type; = &solver_ario;</paramdef>
  <paramdef>&type_bool; &par_apply_induction; = &const_false;</paramdef>
  <paramdef>&type_bool; &par_counter_example; = &const_false;</paramdef>
  <paramdef>&type_bool; &par_witness; = &const_false;</paramdef>
  <paramdef>&type_char_string; &par_dot_file_name; = 0</paramdef>
</funcprototype>
<funcprototype>
  <funcdef>&type_void; &formula_checker_check_formulas;</funcdef>
  <paramdef>&type_aterm_list; &par_formulas;</paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>

<refsect1>
<title>Description</title>
<para>
  The class &class_formula_checker; is initialized with a specification of data equations in internal mCRL2 format using the constructor
  &formula_checker_constructor;.
  After initialization, the function &formula_checker_check_formulas; can be called any number of times to check whether the expressions of sort 
  &sort_bool; in internal mCRL2 format in the list passed as parameter &par_formulas; are tautologies or contradictions.
</para>
<para>
  The class &class_formula_checker; uses an instance of the class &class_bdd_prover; to prove a number of propositional formulas. The prover is
  initialized with the parameters &par_rewrite_strategy;, &par_time_limit;,
  &par_path_eliminator;, &par_solver_type;, &par_apply_induction; and &par_lpe;. The
  parameter &par_rewrite_strategy; specifies which rewrite strategy is used by the prover's rewriter. It can be set to either
  &const_strat_inner;, &const_strat_innerc;, &const_strat_jitty; or &const_strat_jittyc;. The parameter &par_time_limit; specifies the maximum
  amount of time in seconds to be spent by the prover on proving a single formula. If &par_time_limit; is set to 0, no time limit will be enforced.
  The parameter &par_path_eliminator; specifies whether or not path elimination is applied. When path elimination is applied, the prover uses an
  SMT solver to remove inconsistent paths from BDDs. The parameter &par_solver_type; specifies which SMT solver is used for path elimination.
  Either the SMT solver &solver_ario; or &solver_cvc_lite; can be used. To use one of these solvers, the directory containing the corresponding
  executable must be in the path. On June the 20th of 2006, Ario 1.1 was available on &link_ario; and CVC Lite was available on &link_cvc;.
  If the parameter &par_path_eliminator; is set to &const_false;, the parameter &par_solver_type; is ignored.
  The parameter &par_time_limit; specifies the data equations used by the prover's rewriter. The parameter &par_apply_induction;
  indicates whether or not induction on list will be applied.
</para>
<para>
  The parameter &par_dot_file_name;
  specifies whether a file in dot format of the resulting BDD is saved each time the prover cannot determine whether an expression of sort 
  &sort_bool; is a contradiction
  or a tautology. If the parameter is set to 0, no .dot files are saved. If a string is passed as parameter &par_dot_file_name;, this string will
  be used as the prefix of the filenames. An instance of the class &class_bdd2dot; is used to save these files in dot format.
</para>
<para>
  If the parameter &par_counter_example; is set to &const_true;, a so called counter example is printed to &stderr; each time an expression is
  encountered that is neither a contradiction nor a tautology. A counter example is a valuation for which
  the expression does not hold.
</para>
<para>
  If the parameter &par_witness; is set to &const_false;, a so called witness is printed to &stderr; each time such an expression is
  encountered. A witness is a valuation for which the expression holds.
</para>
<para>
  The function &formula_checker_check_formulas; prints information to &stderr; indicating whether the expressions in the list of formulas passed as
  parameter &par_formulas; are tautologies or contradictions.
  In some cases the BDD based prover may be unable to determine whether an expression is a tautology or a
  contradiction. If this is the case, the function &formula_checker_check_formulas; will print information to &stderr; indicating this fact.
</para>
</refsect1>

<refsect1>
<title>Preconditions</title>
<para>
  The following precondition has to be satisfied for &formula_checker_constructor;:
  <itemizedlist>
    <listitem>
      <para>the argument passed as parameter &par_lpe; is an LPE</para>
    </listitem>
    <listitem>
      <para>
        the argument passed as parameter &par_time_limit; is greater than or equal to 0. If the argument is equal to 0, no time limit will be
        enforced
      </para>
    </listitem>
  </itemizedlist>
</para>
<para>
The following precondition has to be satisfied for &formula_checker_check_formulas;:
<itemizedlist>
  <listitem>
    <para>the parameter &par_formulas; is a list of expressions of sort &sort_bool; in internal mCRL2 format</para>
  </listitem>
</itemizedlist>
</para>
</refsect1>

<refsect1>
<title>Author</title>
<para>
  Written by Luc Engelen. Please send all complaints, comments and bug reports to <email>bug@mcrl2.org</email>.
</para>
</refsect1>

</refentry>
