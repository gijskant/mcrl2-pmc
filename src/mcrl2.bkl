<?xml version="1.0"?>
<bakefile>

  <set var="LIB_DIR">/home/muck/gs/lib</set>
  
  <subproject id="aterm">
    <dir>aterm</dir>
    <dependency-of>all</dependency-of>
  </subproject>
  
  <subproject id="nt">
    <dir>nt</dir>
    <dependency-of>all</dependency-of>
  </subproject>

  <template id="c">
    <!--cflags>-g -O2 -std=c99 -Wall -pedantic</cflags-->
    <cflags>/TP</cflags>
    <include>aterm</include>
    <include>nt</include>
    <include>"C:\Program Files\Microsoft Visual C++ Toolkit 2003\include"</include>
    <include>"C:\Program Files\Microsoft SDK\include"</include>
    <lib-path>nt</lib-path>
    <lib-path>aterm</lib-path>
    <lib-path>"C:\Program Files\Microsoft Visual C++ Toolkit 2003\lib"</lib-path>
    <lib-path>"C:\Program Files\Microsoft SDK\lib"</lib-path>
    <sys-lib>ATerm</sys-lib>
    <sys-lib>ntutil</sys-lib>
  </template>

  <template id="cexe" template="c">
    <install-to>/home/muck/gs/bin</install-to>
  </template>

  <template id="clib" template="c">
    <!--install-to>/home/muck/gs/lib</install-to-->
  </template>

  <template id="cxx">
    <cxxflags> /D_WINDOWS /DNOPCH /GR  /EHsc -Ic:\wxWidgets-2.6.0\lib\vc_lib\msw -Ic:\wxWidgets-2.6.0\include -Ic:\wxWidgets-2.6.0\contrib\include -D__WXMSW__ -O2 -W4</cxxflags>
    <cflags>/TP /DNOPCH /GR  /EHsc</cflags>
    <include>aterm</include>
    <include>nt</include>
    <include>"C:\Program Files\Microsoft Visual C++ Toolkit 2003\include"</include>
    <include>"C:\Program Files\Microsoft SDK\include"</include>
    <ldflags>/LIBPATH:c:\wxWidgets-2.6.0\lib\vc_lib wxmsw26_xrc.lib wxmsw26_html.lib wxmsw26_adv.lib wxmsw26_core.lib wxbase26_xml.lib wxbase26_net.lib wxbase26.lib wxexpat.lib wxregex.lib wxzlib.lib wxjpeg.lib wxtiff.lib wxpng.lib /LIBPATH:. kernel32.lib user32.lib gdi32.lib comdlg32.lib winspool.lib winmm.lib shell32.lib comctl32.lib ole32.lib oleaut32.lib uuid.lib rpcrt4.lib advapi32.lib wsock32.lib oleacc.lib odbc32.lib</ldflags>
    <lib-path>nt</lib-path>
    <lib-path>aterm</lib-path>
    <lib-path>"C:\Program Files\Microsoft Visual C++ Toolkit 2003\lib"</lib-path>
    <lib-path>"C:\Program Files\Microsoft SDK\lib"</lib-path>
    <sys-lib>ATerm</sys-lib>
    <sys-lib>ntutil</sys-lib>
  </template>

  <template id="cxxexe" template="cxx">
    <install-to>/home/muck/gs/bin</install-to>
  </template>

  <lib id="gsparse" template="clib">
    <sources>libgsparse.c mcrl2parser.c typecheck.c dataimpl.c libstruct.c liblowlevel.c mcrl2lexer.c</sources>
  </lib>

  <lib id="rewrite" template="clib">
    <sources>librewrite_c.c gsrewr_inner.c gsrewr_inner2.c gsrewr_inner3.c libstruct.c liblowlevel.c</sources>
  </lib>

  <exe id="mcrl2parse" template="cexe">
    <exename>mcrl2parse</exename>
    <sources>mcrl2parse.c</sources>
    <library>gsparse</library>
  </exe>

  <exe id="lpepp" template="cexe">
    <sources>lpepp.c</sources>
    <library>gsparse</library>
  </exe>

  <exe id="mcrl22lpe" template="cexe">
    <sources>mcrl22lpe.c</sources>
    <library>gsparse</library>
    <library>rewrite</library>
  </exe>

  <exe id="lin" template="cexe">
    <sources>lin.c</sources>
    <sources>lin_alt.c</sources>
    <library>gsparse</library>
  </exe>

  <exe id="lperewr" template="cexe">
    <sources>lperewr.c</sources>
    <library>gsparse</library>
    <library>rewrite</library>
  </exe>

  <exe id="lpe2lts" template="cexe">
    <sources>lpe2lts.c</sources>
    <sources>libnextstate.c libprover.c</sources>
    <library>gsparse</library>
    <library>rewrite</library>
  </exe>

  <exe id="sim" template="cexe">
    <sources>sim.c</sources>
    <sources>libnextstate.c libprover.c</sources>
    <library>gsparse</library>
    <library>rewrite</library>
  </exe>

  <exe id="xsim" template="cxxexe">
    <sources>xsim.cpp</sources>
    <sources>xsimbase.cpp xsimmain.cpp xsimtrace.cpp libnextstate.c libprover.c</sources>
    <library>gsparse</library>
    <library>rewrite</library>
  </exe>

</bakefile>
