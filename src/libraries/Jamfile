project libraries ;

libraries = [ MATCH .*/src/libraries/(.*)/build/.* : [ glob */build/Jamfile.v2 ] ] ;

# Register library projects
for library in $(libraries) {
  use-project /libraries/$(library) : $(TOP)/src/libraries/$(library)/build ;

  alias $(library)
        : $(library)/build//$(library)
        : <include>$(library)/include
        :
        : <include>$(library)/include
        ;
}

# some 3rd-party libraries
for library in aterm cvc_lite pstream svc ticpp getopt {
  use-project /libraries/$(library) : $(TOP)/3rd-party/$(library)/build ;

  alias $(library)
        : $(TOP)/3rd-party/$(library)/build//$(library)
        : <include>../../3rd-party/$(library)/include
        :
        : <include>../../3rd-party/$(library)/include
        ;
}

lib mcrl2
        : /libraries/lps//dataelm.alias
          /libraries/lps//lps.alias
          /libraries/lts//lts.alias
          /libraries/svc//svc.alias
          /libraries/aterm//aterm.alias
          /libraries/parser//parser.alias
          /libraries/parser//alpha.alias
          /libraries/mcrl2_basic//mcrl2_basic.alias
          /libraries/prover//prover.alias
          /libraries/rewrite//rewrite.alias
          /libraries/trace//trace.alias
          /libraries/nextstate//nextstate.alias
        : <threading>multi
        ;

