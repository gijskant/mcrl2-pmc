project aterm
       : source-location ../source
       : build-dir $(BUILD_TOP)
       : requirements
          <toolset>darwin:<cflags>-std=c99
          <toolset>gcc:<cflags>-std=c99
          <include>../include
       ;

lib aterm
       : afun.c
         aterm.c
         bafio.c
         byteio.c
         gc.c
         hash.c
         list.c
         make.c
         md5c.c
         memory.c
         tafio.c
         version.c
         protaterm.cpp
       : <address-model>64:<define>AT_64BIT
         <toolset>darwin,<link>shared:<cflags>"-fPIC -fno-common"
         <toolset>darwin,<link>shared:<cxxflags>"-fPIC -fno-common"
         <toolset>darwin,<link>shared:<linkflags>"-undefined dynamic_lookup"
         <toolset>gcc,<os>NT,<link>shared:<cflags>""
         <toolset>gcc,<os>LINUX,<link>shared:<cflags>-fPIC
         <threading>single
       :
       : <address-model>64:<define>AT_64BIT
         <toolset>darwin,<link>shared:<linkflags>"-undefined dynamic_lookup"
       ;

alias headers
       : [ glob ../include/*.h ]
       ;

