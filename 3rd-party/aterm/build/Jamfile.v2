project aterm
       : source-location ../source
       : build-dir $(BUILD_TOP)
       : requirements
          <toolset>darwin:<cflags>-std=c99
          <toolset>gcc:<cflags>-std=c99
          <include>../include
       ;

alias aterm.main
       : [ glob *.c ]
         protaterm.cpp
       : <address-model>64:<define>AT_64BIT
       : <threading>single
       : <address-model>64:<define>AT_64BIT
         <toolset>darwin:<linkflags>"-undefined dynamic_lookup"
       ;

lib aterm
       : aterm.main
       : <link>static
       ;

alias aterm
       : /libraries//mcrl2
       : <link>shared
       ;

alias aterm.alias
       : aterm.main
       : <toolset>darwin:<cflags>"-fPIC -fno-common"
         <toolset>darwin:<cxxflags>"-fPIC -fno-common"
         <toolset>darwin:<linkflags>"-undefined dynamic_lookup"
         <toolset>gcc,<os>NT:<cflags>""
         <toolset>gcc,<os>LINUX:<cflags>-fPIC
       ;

alias headers
       : [ glob ../include/*.h ]
       :
       :
       : <include>../include
         <address-model>64:<define>AT_64BIT
       ;

explicit aterm.main aterm.alias ;
