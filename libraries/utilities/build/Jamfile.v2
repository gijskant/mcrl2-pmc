project libraries/utilities
       : source-location ..
       : build-dir $(BUILD_TOP)
       : requirements
          <include>../include
          <include>../../core/include      # Circular dependency
          <include>../../data/include      # Circular dependency
       : usage-requirements
          <include>../include
       ;

include $(TOP)/build/config.jam ;

alias spinctrlfloat : spinctrlfloat.o ;
alias colorbutton   : colorbutton.o ;

obj spinctrlfloat.o : source/spinctrlfloat.cpp : <cxxflags>"$(WX_CPPFLAGS)" <include>../include/mcrl2/utilities ;
obj colorbutton.o   : source/colorbutton.cpp   : <cxxflags>"$(WX_CPPFLAGS)" <include>../include/mcrl2/utilities ;

# Dummy for when squadt support is not desired
alias squadt_interface.main
      : source/squadt_interface.cpp
      : <threading>multi
        <use>/libraries/tipi//tool_interface
        <use>/libraries/core//headers
        <define>ENABLE_SQUADT_CONNECTIVITY
      :
      : <library>/libraries/tipi//tool_interface
        <toolset>darwin:<framework>Carbon
        <define>ENABLE_SQUADT_CONNECTIVITY
      ;

# mCRL2 Tool for SQuADt interface
lib mcrl2_squadt
      : squadt_interface.main
      ;

alias squadt_interface
      : mcrl2_squadt
      : <link>static
      ;

alias squadt_interface
      : mcrl2_squadt
      : <link>shared
      ;

alias squadt_interface.alias
      : squadt_interface.main
      : <use>headers
      ;

mcrl2-library utilities
      : source/aterm_ext.cpp
        source/numeric_string.cpp
        source/info.cpp            # Temporary?
        source/bdd2dot.cpp         # Temporary?
        source/manipulator.cpp     # Temporary?
      : <use>/boost//headers
        <use>/libraries/atermpp//headers
      :
      : <library>/libraries//aterm
      ;
