HOST_OS            = "@HOST_OS@"

# Installation directories
prefix             = "@prefix@"
exec_prefix        = "@exec_prefix@"
bindir             = "@bindir@"
libdir             = "@libdir@"
datadir            = "@datarootdir@"
datarootdir        = "@datarootdir@"
includedir         = "@includedir@"
infodir            = "@infodir@"
mandir             = "@mandir@"

# Boost Build configuration
BJAM               = @BJAM@
BJAM_BUILD         = ./build.sh
ifeq ($(HOST_OS),WINDOWS)
BJAM_BUILD         = build.bat runtime-link=static link=static
endif

BOOST_BUILD       := $(BJAM) @BUILD_OPTIONS@

# Build boost build tool
bjam: $(BJAM)

$(BJAM):
	@mkdir -p build/bin
	@cd 3rd-party/boost/tools/jam; $(BJAM_BUILD)
	@rm -rf 3rd-party/boost/tools/jam/bootstrap

configure: build/autoconf/configure.ac
	autoconf -o $@ -W all $<

config.status: configure build/autoconf/config.jam.in
	@echo "Update to configure detected reconfiguring..."
	@./config.status --recheck
	@./config.status

