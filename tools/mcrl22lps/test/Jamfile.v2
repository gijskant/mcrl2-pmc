project toolset/mcrl22lps/test ;

use-project /tools/mcrl22lps : $(TOP)/tools/mcrl22lps ;

for file in [ path.glob-tree $(TOP)/examples : *.mcrl2 ] {
  tests-with-files += [
        run /tools/mcrl22lps//mcrl22lps
              : # no arguments
              : $(file)
              : <testing.preserve>true
              : mcrl22lps-$(file:B) ] ;
}

test-suite mcrl22lps
    : $(tests-with-files)
    ;

